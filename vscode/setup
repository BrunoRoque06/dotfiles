#!/usr/bin/env bash

source utilities/file.sh
source utilities/logging.sh
source utilities/os.sh

logging_setup 'vscode'

printf 'Symlinking VSCode configuration...\n'
if is_mac_os; then
	symlink_to_dir settings.json "$HOME/Library/Application Support/Code/User"
elif is_arch; then
	symlink_to_dir settings.json "$HOME"/.config/Code/User
fi

printf 'Installing VSCode extensions...\n'
symlink_to_dir extensions.txt "$HOME"/.vscode
xargs <"$HOME"/.vscode/extensions.txt -L 1 code --force --install-extension
