#!/usr/bin/env bash

printf 'Setting up fish...\n'

ln -fsv "$PWD"/fish/config.fish "$HOME"/.config/fish/config.fish
ln -fsv "$PWD"/fish/conf.d/abbrs.fish "$HOME"/.config/fish/conf.d/abbrs.fish

FISH_FUNCTIONS="$HOME"/.config/fish/functions
mkdir -p "$FISH_FUNCTIONS"
touch "$FISH_FUNCTIONS"/fish_mode_prompt.fish
FILES=$(find "$PWD"/fish/functions -name "*.fish")
for FILE in $FILES
do
  FILE_NAME=$(basename "$FILE")
  ln -fsv "$FILE" "$FISH_FUNCTIONS"/"$FILE_NAME"
done

curl https://git.io/fisher --create-dirs -sLo ~/.config/fish/functions/fisher.fish
ln -fsv "$PWD"/fish/fishfile "$HOME"/.config/fish/fishfile
fish -c fisher
