#!/usr/bin/env bash

cp /Applications/Utilities/Terminal.app/Contents/Resources/Fonts/*.otf "$HOME"/Library/Fonts/

FILES=".aliases .gitconfig .ideavimrc .spoud .tmux.conf .vimrc .zshrc"

for file in $FILES; do
  s=$(pwd)/$file
  t=$HOME/$file
  printf "Symlinking: %s -> %s\\n" "$s" "$t"
  ln -fns "$s" "$t"
done

ln -fns "$(pwd)/terminal/com.apple.Terminal.plist" "$HOME/Library/Preferences/com.apple.Terminal.plist"

printf 'Installing brew packages/casks...\n'
./brew

printf 'Symlinking VSCode configuration and installing packages...\n'
ln -fns "$(pwd)"/.vscode/settings.json "$HOME/Library/Application Support/Code/User/settings.json"
readonly CODE_DIR="$HOME"/.vscode
mkdir "$CODE_DIR"
ln -fns "$(pwd)"/.vscode/extensions-list.txt "$CODE_DIR"/extensions-list.txt
< "$CODE_DIR"/extensions-list.txt xargs -L 1 code --install-extension

printf 'Installationg successfuly completed ⚡️\n'

exec zsh
